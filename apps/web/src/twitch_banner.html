<!-- 
 twitch_banner.html?timeVisible=5&timeHidden=60 
 Show for 5 seconds every minute
 -->
 <!DOCTYPE html>
 <html lang="en">
     <head>
         <meta charset="utf-8" />
         <link rel="preconnect" href="https://fonts.googleapis.com" />
         <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
         <link
             href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
             rel="stylesheet"
         />
 
         <style>
             body {
                 margin: 0;
                 padding: 0;
                 border: 0;
                 font-family: 'Poppins', sans-serif;
                 --color-light: #ffffff;
                 --color-premium: #ffb948;
                 --color-dark: #261114;
             }
 
             #banner {
                 opacity: 0;
                 color: var(--color-dark);
                 font-size: 27px;
                 font-weight: bold;
                 position: relative;
                 width: fit-content;
                 transition: opacity 0.8s ease-in-out;
             }
 
             #banner .cta {
                 opacity: 0;
                 position: absolute;
                 top: 0;
                 right: 0;
                 transition: opacity 0.5s ease-in-out;
             }
             #banner .cta .cta-text {
                 position: absolute;
                 top: 14%;
                 left: 8%;
                 right: 7%;
                 bottom: 31%;
                 display: flex;
                 align-items: center;
                 justify-content: center;
                 transition: opacity 0.3s ease-in-out;
             }
         </style>
     </head>
     <body>
         <div id="banner">
             <img class="background" src="https://static.zerotoheroes.com/hearthstone/asset/firestone/twitch_banner_hd.png" />
             <div class="cta">
                 <img class="cta-background" src="https://static.zerotoheroes.com/hearthstone/asset/firestone/twitch_banner_button.png" />
                 <span class="cta-text">DOWNLOAD FOR FREE</span>
             </div>
         </div>
 
         <script>
             (function () {
                 const banner = document.getElementById('banner');
 
                 // Parse URL parameters
                 const urlParams = new URLSearchParams(window.location.search);
 
                 // Get timing parameters from URL or use defaults
                 const timeVisible = parseInt(urlParams.get('timeVisible')) || 10; // Default: 10 seconds
                 const timeHidden = parseInt(urlParams.get('timeHidden')) || 1800; // Default: 30 minutes (1800 seconds)
                 const timeBetweenTransitions = timeVisible / 3;
 
                 function showBanner() {
                     // Fade in the banner
                     banner.style.opacity = '1';
 
                     // Will hide after some time with fade out
                     setTimeout(() => {
                         banner.style.opacity = '0';
                     }, timeVisible * 1000); // Convert seconds to milliseconds
 
                     // At first, the button is hidden
                     const button = banner.querySelector('.cta');
                     const buttonText = button.querySelector('.cta-text');
                     button.style.opacity = '0';
 
                     // After timeBetweenTransitions, we show the button with the
                     // DOWNLOAD FOR FREE text
                     setTimeout(() => {
                         buttonText.textContent = 'DOWNLOAD FOR FREE';
                         buttonText.style.fontSize = ''; // Reset to default size
                         button.style.opacity = '1';
                     }, Math.max(0, (timeBetweenTransitions - 1) * 1000));
 
                     // After again the same time, we smoothly change the text to !Firestone
                     setTimeout(() => {
                         // Fade out text
                         buttonText.style.opacity = '0';
                         // Change text after fade out completes
                         setTimeout(() => {
                             buttonText.textContent = '!Firestone';
                             buttonText.style.fontSize = '1.4em'; // Make !Firestone bigger
                             buttonText.style.opacity = '1';
                         }, 300); // Match the CSS transition duration
                     }, Math.max(0, (timeBetweenTransitions - 1) * 2 * 1000));
                 }
 
                 // Show banner at configured intervals
                 setInterval(showBanner, (timeVisible + timeHidden) * 1000); // Convert seconds to milliseconds
             })();
         </script>
     </body>
 </html>
 
 